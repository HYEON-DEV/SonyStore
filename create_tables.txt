-- MySQL Workbench Synchronization
-- Generated: 2024-11-18 01:30
-- Model: New Model
-- Version: 1.0
-- Project: Name of the project
-- Author: user

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

CREATE SCHEMA IF NOT EXISTS `sony` DEFAULT CHARACTER SET utf8 ;

CREATE TABLE IF NOT EXISTS `sony`.`carts` (
  `cartid` INT(11) NOT NULL AUTO_INCREMENT COMMENT '일련번호',
  `count` INT(11) NOT NULL COMMENT '수량',
  `memberid` INT(11) NOT NULL COMMENT '회원의 일련번호',
  `prodid` INT(11) NOT NULL COMMENT '상품의 일련번호',
  PRIMARY KEY (`cartid`),
  INDEX `fk_carts_members1_idx` (`memberid` ASC) VISIBLE,
  INDEX `fk_carts_products1_idx` (`prodid` ASC) VISIBLE,
  CONSTRAINT `fk_carts_members1`
    FOREIGN KEY (`memberid`)
    REFERENCES `sony`.`members` (`memberid`),
  CONSTRAINT `fk_carts_products1`
    FOREIGN KEY (`prodid`)
    REFERENCES `sony`.`products` (`prodid`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '장바구니';

CREATE TABLE IF NOT EXISTS `sony`.`colors` (
  `colorid` INT(11) NOT NULL AUTO_INCREMENT COMMENT '색상 번호',
  `color` VARCHAR(45) NOT NULL COMMENT '색상',
  PRIMARY KEY (`colorid`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '색상 테이블';

CREATE TABLE IF NOT EXISTS `sony`.`events` (
  `eventid` INT(11) NOT NULL AUTO_INCREMENT COMMENT '일련번호',
  `title` VARCHAR(255) NOT NULL COMMENT '제목',
  `caution` TEXT NULL DEFAULT NULL COMMENT '유의사항',
  `thumbnail` VARCHAR(255) NOT NULL COMMENT '기획전 대표 이미지 경로',
  `startdate` DATE NULL DEFAULT NULL COMMENT '기획전 시작날짜',
  `enddate` DATE NULL DEFAULT NULL COMMENT '기획전 종료날짜',
  `desc` VARCHAR(255) NULL DEFAULT NULL COMMENT '기획전 설명',
  `image` VARCHAR(255) NOT NULL COMMENT '기획전 상세이미지 경로',
  PRIMARY KEY (`eventid`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '기획전';

CREATE TABLE IF NOT EXISTS `sony`.`images` (
  `imgid` INT(11) NOT NULL AUTO_INCREMENT COMMENT '일련번호',
  `filepath` VARCHAR(255) NOT NULL COMMENT '이미지 파일 경로',
  `thumbnail` ENUM('Y', 'N') NOT NULL DEFAULT 'N' COMMENT '상품 대표 이미지',
  `prodid` INT(11) NOT NULL COMMENT '상품의 일련번호',
  `colorid` INT(11) NULL DEFAULT NULL COMMENT '색상의 일련번호',
  PRIMARY KEY (`imgid`),
  INDEX `fk_images_products1_idx` (`prodid` ASC) VISIBLE,
  INDEX `fk_images_colors1_idx` (`colorid` ASC) VISIBLE,
  CONSTRAINT `fk_images_colors1`
    FOREIGN KEY (`colorid`)
    REFERENCES `sony`.`colors` (`colorid`),
  CONSTRAINT `fk_images_products1`
    FOREIGN KEY (`prodid`)
    REFERENCES `sony`.`products` (`prodid`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '상품 이미지';

CREATE TABLE IF NOT EXISTS `sony`.`members` (
  `memberid` INT(11) NOT NULL AUTO_INCREMENT COMMENT '회원의 일련번호',
  `email` VARCHAR(45) NOT NULL COMMENT '이메일',
  `userpw` VARCHAR(30) NOT NULL COMMENT '비밀번호',
  `username` VARCHAR(45) NOT NULL COMMENT '이름',
  `gender` ENUM('M', 'F') NOT NULL COMMENT '성별 (M/F)',
  `birthdate` DATE NOT NULL COMMENT '생년월일',
  `phone` VARCHAR(20) NOT NULL COMMENT '휴대폰번호',
  `editdate` DATETIME NOT NULL COMMENT '변경일시',
  `postcode` CHAR(5) NULL DEFAULT NULL COMMENT '우편번호',
  `addr1` VARCHAR(255) NULL DEFAULT NULL COMMENT '검색된 주소',
  `addr2` VARCHAR(255) NULL DEFAULT NULL COMMENT '상세 주소',
  `isout` ENUM('Y', 'N') NOT NULL DEFAULT 'N' COMMENT '탈퇴 여부 (Y/N)',
  `logindate` DATETIME NULL DEFAULT NULL COMMENT '마지막 로그인 일시',
  `regdate` DATETIME NOT NULL COMMENT '등록일시',
  `isadmin` ENUM('Y', 'N') NOT NULL DEFAULT 'N' COMMENT '관리자 여부 (Y/ N)',
  PRIMARY KEY (`memberid`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '회원정보';

CREATE TABLE IF NOT EXISTS `sony`.`notices` (
  `noticeid` INT(11) NOT NULL AUTO_INCREMENT COMMENT '번호',
  `title` VARCHAR(255) NOT NULL COMMENT '제목',
  `regdate` DATE NOT NULL COMMENT '등록일자',
  `watch` INT(11) NOT NULL DEFAULT 0 COMMENT '조회수',
  `content` TEXT NOT NULL COMMENT '공지사항 내용',
  PRIMARY KEY (`noticeid`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '공지사항';

CREATE TABLE IF NOT EXISTS `sony`.`payments` (
  `payid` INT(11) NOT NULL AUTO_INCREMENT COMMENT '일련번호',
  `total` INT(11) NOT NULL COMMENT '총 결제금액',
  `date` DATE NOT NULL COMMENT '결제날짜',
  `option` VARCHAR(20) NOT NULL COMMENT '결제방법',
  `status` VARCHAR(10) NOT NULL COMMENT '처리상태',
  `paycheck` ENUM('Y', 'N') NOT NULL DEFAULT 'N' COMMENT '결제유무',
  `insertdate` DATETIME NOT NULL COMMENT '구매 희망 일시',
  `receivername` VARCHAR(30) NULL DEFAULT NULL COMMENT '수령인 이름',
  `phone` VARCHAR(20) NULL DEFAULT NULL COMMENT '수령인 휴대폰번호',
  `postcode` CHAR(5) NULL DEFAULT NULL COMMENT '우편번호',
  `addr1` VARCHAR(45) NULL DEFAULT NULL COMMENT '검색된 주소',
  `addr2` VARCHAR(45) NULL DEFAULT NULL COMMENT '상세 주소',
  `request` VARCHAR(45) NULL DEFAULT NULL COMMENT '배송 요청 사항',
  `dlvdate` VARCHAR(45) NULL DEFAULT NULL COMMENT '배송일',
  `prodid` INT(11) NULL DEFAULT '0' COMMENT '구매한 상품의 일련번호',
  `prodcolor` INT(11) NULL DEFAULT NULL COMMENT '구매한 상품의 색상',
  `prodthumbnail` VARCHAR(255) NULL DEFAULT NULL COMMENT '구매한 상품의 대표 이미지 경로',
  `prodtitle` VARCHAR(45) NULL DEFAULT NULL COMMENT '구매한 상품의 이름',
  `prodprice` INT(11) NULL DEFAULT '0' COMMENT '구매한 상품의 가격',
  `count` INT(11) NULL DEFAULT '0' COMMENT '수량',
  `memberid` INT(11) NULL DEFAULT NULL COMMENT '회원의 일련번호',
  PRIMARY KEY (`payid`),
  INDEX `fk_payments_members1_idx` (`memberid` ASC) VISIBLE,
  CONSTRAINT `fk_payments_members1`
    FOREIGN KEY (`memberid`)
    REFERENCES `sony`.`members` (`memberid`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '결제';

CREATE TABLE IF NOT EXISTS `sony`.`products` (
  `prodid` INT(11) NOT NULL AUTO_INCREMENT COMMENT '일련번호',
  `title` VARCHAR(45) NOT NULL COMMENT '상품명',
  `desc` VARCHAR(255) NULL DEFAULT NULL COMMENT '상품 설명',
  `price` INT(11) NOT NULL COMMENT '상품 가격',
  `type1` VARCHAR(45) NOT NULL COMMENT '상품 카테고리 1',
  `type2` VARCHAR(45) NULL DEFAULT NULL COMMENT '상품 카테고리 2',
  `type3` VARCHAR(45) NULL DEFAULT NULL COMMENT '상품 카테고리 3',
  `date` DATE NULL DEFAULT NULL COMMENT '출시일',
  `detailimage1` VARCHAR(255) NOT NULL COMMENT '상품 상세의 이미지 경로 1',
  `youtube` VARCHAR(255) NULL DEFAULT NULL COMMENT '상품 상세 유튜브 경로',
  `detailgif` VARCHAR(255) NULL DEFAULT NULL COMMENT '상품 상세의 gif 경로',
  `detailimage2` VARCHAR(255) NULL DEFAULT NULL COMMENT '상품 상세의 이미지 경로 2',
  `detailspec` VARCHAR(255) NULL DEFAULT NULL COMMENT '상품 상세의 스펙',
  `soldout` ENUM('Y', 'N') NOT NULL DEFAULT 'N' COMMENT '상품의 품절여부',
  `sale` ENUM('Y', 'N') NOT NULL DEFAULT 'N' COMMENT '상품의 할인 유무',
  `event` ENUM('Y', 'N') NOT NULL DEFAULT 'N' COMMENT '상품의 기획전 유무',
  `colorid` INT(11) NULL DEFAULT NULL COMMENT '색상의 일련번호',
  PRIMARY KEY (`prodid`),
  INDEX `fk_products_colors1_idx` (`colorid` ASC) VISIBLE,
  CONSTRAINT `fk_products_colors1`
    FOREIGN KEY (`colorid`)
    REFERENCES `sony`.`colors` (`colorid`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '상품';


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
