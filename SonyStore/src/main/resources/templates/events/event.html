<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <th:block th:replace="~{/_fragments/_head :: sony-head('기획전')}"></th:block>
    <link rel="stylesheet" th:href="@{/assets/css/style_1.css}" />
</head>
<body>
    <th:block th:replace="~{/_fragments/_header :: sony-header}"></th:block>
    <div class="container_w1920">
        <!-- banner -->
        <div class="banner event_banner">
            <div class="banner_swiper event_banner">
                <div class="swiper-wrapper event_banner">
                    <div class="swiper-slide event_banner">
                        <img th:src="@{/assets/img/event/event_banner_01.jpg}" alt="banner1" />
                        <div class="banner_contents">
                            <div class="banner_title_box">
                                <span class="event_banner_title">소니스토어 압구정<br />11월 혜택 몰아보기</span>
                            </div>
                            <span class="event_banner_desc">소니스토어 압구정에서만 만나볼 수 있는 특별한 혜택을 만나보세요!</span>
                            <span class="event_banner_date">2024-11-01 ~ 2024-11-30</span>
                            <!-- <span class="banner_view">자세히 보기 <i class="fas fa-angle-right"></i></span> -->
                        </div>
                    </div>
                    <div class="swiper-slide event_banner">
                        <img th:src="@{/assets/img/event/event_banner_02.jpg}" alt="banner1" />
                        <div class="banner_contents">
                            <div class="banner_title_box">
                                <span class="event_banner_title color_white">연장 서비스 플랜 ESP</span>
                            </div>
                            <span class="event_banner_desc color_white">보다 편리하게 소니 상품을 이용하실 수 있는<br />소니스토어 프리미엄 서비스를 경험해 보세요.</span>
                            <span class="event_banner_date color_white">2024-11-01 ~ 선착순 한정 수량</span>
                            <!-- <span class="banner_view color_white">자세히 보기 <i class="fas fa-angle-right"></i></span> -->
                        </div>
                    </div>
                </div>
                <div class="swiper-button-prev"></div>
                <div class="swiper-button-next"></div>
                <div class="swiper-pagination"></div>
            </div>
        </div>
        <!-- banner end -->

        <div class="container_w1200 pd-90-160" style="padding: 0 0 160px 0;">

            <div class="tab_menu_style_1" style="margin:0;">
                <ul class="tab_button_container flex_center">
                    <li class="tab_01 font_32_700 tab_button_box border_bottom"><a href="#tab_01" class="flex_center tab_button event_tab_button" data-eventname="tab_01">전체</a></li>
                    <li class="tab_02 font_32_700 tab_button_box border_bottom"><a href="#tab_02" class="flex_center tab_button event_tab_button" data-eventname="tab_02">소니스토어 단독</a></li>
                    <li class="tab_03 font_32_700 tab_button_box border_bottom"><a href="#tab_03" class="flex_center tab_button event_tab_button" data-eventname="tab_03">혜택존</a></li>
                    <li class="tab_04 font_32_700 tab_button_box border_bottom"><a href="#tab_04" class="flex_center tab_button event_tab_button" data-eventname="tab_04">예약판매</a></li>
                    <li class="tab_05 font_32_700 tab_button_box border_bottom"><a href="#tab_05" class="flex_center tab_button event_tab_button" data-eventname="tab_05">정품등록 이벤트</a></li>                
                    <li class="tab_06 font_32_700 tab_button_box border_bottom"><a href="#tab_06" class="flex_center tab_button event_tab_button" data-eventname="tab_06">LIVE ON</a></li>                
                </ul>
            </div>

            <div id="tab_01" class="tab_page">
                <div class="event_h2_box">
                    <h2 class="event_h2" style="margin:0;">전체</h2>

                    <!-- <div class="event_sort">
                        <span class="event_sort_text pointer event_sort_active">최신순</span>
                        <span class="event_sort_text pointer">오래된 순</span>
                        <span class="event_finished pointer">종료된 기획전</span>
                    </div> -->
                </div>

                <div class="exhibition_container">
                    <a th:href="@{/events/event_detail}" class="exhibition_item_box">
                        <img th:src="@{/assets/img/event/event_item_02.jpg}" class="exhibition_item_img" alt="" />
                        <span class="exhibition_item_title">소니스토어 압구정 11월 혜택 몰아보기</span>
                        <span class="exhibition_date">2024-11-06 ~ 2024-12-31</span>
                        <!-- <div class="share_button flex_center">
                            <img th:src="@{/assets/img/event/share.svg}" alt="공유" />
                        </div> -->
                    </a>
                        
                    <div class="exhibition_item_box not_allowed">
                        <img th:src="@{/assets/img/event/event_item_05.jpg}" class="exhibition_item_img" alt="" />
                        <span class="exhibition_item_title">SONY X Blue Archive</span>
                        <span class="exhibition_date">2024-12-05 ~ 2024-12-15</span>
                        <!-- <div class="share_button flex_center">
                            <img th:src="@{/assets/img/event/share.svg}" alt="공유" />
                        </div> -->
                    </div>
                </div>

                <div class="exhibition_container">
                    <div class="exhibition_item_box not_allowed">
                        <img th:src="@{/assets/img/event/event_item_03.jpg}" class="exhibition_item_img" alt="" />
                        <span class="exhibition_item_title">11월 기본 카드사 무이자 할부 혜택 안내</span>
                        <span class="exhibition_date">2024-11-06 ~ 2024-12-31</span>
                        <!-- <div class="share_button flex_center">
                            <img th:src="@{/assets/img/event/share.svg}" alt="공유" />
                        </div> -->
                    </div>
                    <div class="exhibition_item_box not_allowed">
                        <img th:src="@{/assets/img/event/event_item_04.jpg}" class="exhibition_item_img" alt="" />
                        <span class="exhibition_item_title">소니 프리미엄 오디오 무이자 프로모션</span>
                        <span class="exhibition_date">2024-11-06 ~ 2024-12-31</span>
                        <!-- <div class="share_button flex_center">
                            <img th:src="@{/assets/img/event/share.svg}" alt="공유" />
                        </div> -->
                    </div>
                </div>

                <div class="exhibition_container">
                    <div class="exhibition_item_box not_allowed">
                        <img th:src="@{/assets/img/event/event_item_01.jpg}" class="exhibition_item_img" alt="" />
                        <span class="exhibition_item_title">소니스토어 압구정 장기 무이자 프로모션 안내</span>
                        <span class="exhibition_date">2024-11-06 ~ 2024-12-31</span>
                        <!-- <div class="share_button flex_center">
                            <img th:src="@{/assets/img/event/share.svg}" alt="공유" />
                        </div> -->
                    </div>
                    <div class="exhibition_item_box not_allowed">
                        <img th:src="@{/assets/img/event/event_item_02.jpg}" class="exhibition_item_img" alt="" />
                        <span class="exhibition_item_title">소니스토어 압구정 11월 혜택 몰아보기</span>
                        <span class="exhibition_date">2024-11-06 ~ 2024-12-31</span>
                        <!-- <div class="share_button flex_center">
                            <img th:src="@{/assets/img/event/share.svg}" alt="공유" />
                        </div> -->
                    </div>
                </div>
            </div>

            <div id="tab_02" class="tab_page">
                <div class="event_h2_box">
                    <h2 class="event_h2" style="margin:0;">소니스토어 단독</h2>

                    <!-- <div class="event_sort">
                        <span class="event_sort_text pointer event_sort_active">최신순</span>
                        <span class="event_sort_text pointer">오래된 순</span>
                        <span class="event_finished pointer">종료된 기획전</span>
                    </div> -->
                </div>

                <div class="exhibition_container">
                    <div class="exhibition_item_box not_allowed">
                        <img th:src="@{/assets/img/event/event_item_03.jpg}" class="exhibition_item_img" alt="" />
                        <span class="exhibition_item_title">11월 기본 카드사 무이자 할부 혜택 안내</span>
                        <span class="exhibition_date">2024-11-06 ~ 2024-12-31</span>
                        <!-- <div class="share_button flex_center">
                            <img th:src="@{/assets/img/event/share.svg}" alt="공유" />
                        </div> -->
                    </div>
                </div>
            </div>

            <div id="tab_03" class="tab_page">
                <div class="event_h2_box">
                    <h2 class="event_h2" style="margin:0;">혜택존</h2>

                    <!-- <div class="event_sort">
                        <span class="event_sort_text pointer event_sort_active">최신순</span>
                        <span class="event_sort_text pointer">오래된 순</span>
                        <span class="event_finished pointer">종료된 기획전</span>
                    </div> -->
                </div>

                <div class="exhibition_container">
                    <div class="exhibition_item_box not_allowed">
                        <img th:src="@{/assets/img/event/event_item_04.jpg}" class="exhibition_item_img" alt="" />
                        <span class="exhibition_item_title">소니 프리미엄 오디오 무이자 프로모션</span>
                        <span class="exhibition_date">2024-11-06 ~ 2024-12-31</span>
                        <!-- <div class="share_button flex_center">
                            <img th:src="@{/assets/img/event/share.svg}" alt="공유" />
                        </div> -->
                    </div>
                </div>
            </div>

            <div id="tab_04" class="tab_page">
                <div class="event_h2_box">
                    <h2 class="event_h2" style="margin:0;">예약판매</h2>

                    <!-- <div class="event_sort">
                        <span class="event_sort_text pointer event_sort_active">최신순</span>
                        <span class="event_sort_text pointer">오래된 순</span>
                        <span class="event_finished pointer">종료된 기획전</span>
                    </div> -->
                </div>

                <div class="exhibition_container">
                    <div class="exhibition_item_box not_allowed">
                        <img th:src="@{/assets/img/event/event_item_01.jpg}" class="exhibition_item_img" alt="" />
                        <span class="exhibition_item_title">소니스토어 압구정 장기 무이자 프로모션 안내</span>
                        <span class="exhibition_date">2024-11-06 ~ 2024-12-31</span>
                        <!-- <div class="share_button flex_center">
                            <img th:src="@{/assets/img/event/share.svg}" alt="공유" />
                        </div> -->
                    </div>
                </div>
            </div>

            <div id="tab_05" class="tab_page">
                <div class="event_h2_box">
                    <h2 class="event_h2" style="margin:0;">정품등록 이벤트</h2>

                    <!-- <div class="event_sort">
                        <span class="event_sort_text pointer event_sort_active">최신순</span>
                        <span class="event_sort_text pointer">오래된 순</span>
                        <span class="event_finished pointer">종료된 기획전</span>
                    </div> -->
                </div>

                <div class="exhibition_container">
                    <div class="exhibition_item_box not_allowed">
                        <img th:src="@{/assets/img/event/event_item_05.jpg}" class="exhibition_item_img" alt="" />
                        <span class="exhibition_item_title">SONY X Blue Archive</span>
                        <span class="exhibition_date">2024-12-05 ~ 2024-12-15</span>
                        <!-- <div class="share_button flex_center">
                            <img th:src="@{/assets/img/event/share.svg}" alt="공유" />
                        </div> -->
                    </div>
                </div>
            </div>

            <div id="tab_06" class="tab_page">
                <div class="event_h2_box">
                    <h2 class="event_h2" style="margin:0;">LIVE ON</h2>

                    <!-- <div class="event_sort">
                        <span class="event_sort_text pointer event_sort_active">최신순</span>
                        <span class="event_sort_text pointer">오래된 순</span>
                        <span class="event_finished pointer">종료된 기획전</span>
                    </div> -->
                </div>

                <div class="exhibition_container">
                    <div class="exhibition_item_box not_allowed">
                        <img th:src="@{/assets/img/event/event_item_01.jpg}" class="exhibition_item_img" alt="" />
                        <span class="exhibition_item_title">소니스토어 압구정 장기 무이자 프로모션 안내</span>
                        <span class="exhibition_date">2024-11-06 ~ 2024-12-31</span>
                        <!-- <div class="share_button flex_center">
                            <img th:src="@{/assets/img/event/share.svg}" alt="공유" />
                        </div> -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <th:block th:replace="~{/_fragments/_footer :: sony-footer}"></th:block>
    <th:block th:replace="~{/_fragments/_scripts :: sony-scripts}"></th:block>

    <script>
        /***  banner swiper ***/
        let loop_slider = true;
        const num_of_slides = 2;
        let swiper_sliders = document.querySelectorAll(".banner_swiper");

        for (const this_slider of swiper_sliders){
            let num_of_slides_before_init = this_slider.querySelectorAll(".swiper-slide").length;
            if(num_of_slides_before_init < num_of_slides){
                loop_slider = false;
            }

            let swiper = new Swiper(this_slider, {
                slidesPerView: 1,
                loop: loop_slider,
                allowTouchMove: false,
                speed:800,
                navigation: {
                prevEl: '.swiper-button-prev',
                nextEl: '.swiper-button-next',
                },
                pagination: {
                el: ".swiper-pagination",
                type: 'custom',
                renderCustom: function (swiper, current, total) {
                    return 'No.0' + current + '<span style="color:#666">' +'&nbsp;___ 0' + total + '</span>';
                    }
                },
            });
        };
        /***  banner swiper end ***/
    </script>

    <script>
        document.querySelectorAll('.tab_button').forEach((v, i) => {
            v.addEventListener('click', (e) => {
                e.preventDefault();
                const currentIndex = i;
                const href = e.currentTarget.getAttribute("href");

                document.querySelectorAll('.tab_button').forEach((v1, i1) => {
                    if(currentIndex == i1) {
                        v1.classList.add('tab_button_active');
                    } else {
                        v1.classList.remove('tab_button_active');
                    }
                });

                document.querySelectorAll('.tab_page').forEach((v2, i2) => {
                    v2.classList.remove('tab_page_active');
                });

                document.querySelector(href).classList.add('tab_page_active');
            });
        });
    </script>

    <script>
        // 정렬 버튼 active 추가
        document.querySelectorAll('.event_sort_text').forEach( (v, i) => {
            v.addEventListener("click", (e) => {
                document.querySelectorAll('.event_sort_text').forEach( (v, i) => {
                    v.classList.remove("event_sort_active");
                });
                e.currentTarget.classList.add("event_sort_active");
            })
        });


        //선택한 메뉴에 해당하는 탭메뉴 활성화
        const eventname  = Object.fromEntries(new URLSearchParams(location.search)).eventname;
        
        console.log(`eventname: ${eventname}`)
        
        const tabButton = document.querySelectorAll('.tab_button');

        tabButton.forEach((v, i) => {
            for(let x = 0; x < tabButton.length; x++) {
                if( v.dataset.eventname == eventname ) {
                    v.classList.add('tab_button_active');
                } else {
                    v.classList.remove('tab_button_active');
                }

                document.querySelectorAll('.tab_page').forEach((v2, i2) => {
                    v2.classList.remove('tab_page_active');
                });

                document.querySelector(`#${eventname}`).classList.add('tab_page_active');
            }
        });
    </script>


</body>
</html>