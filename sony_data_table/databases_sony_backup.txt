-- MySQL Workbench Synchronization
-- Generated: 2024-11-15 16:29
-- Model: New Model
-- Version: 1.0
-- Project: Name of the project
-- Author: user

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

CREATE SCHEMA IF NOT EXISTS `sony` DEFAULT CHARACTER SET utf8 ;

CREATE TABLE IF NOT EXISTS `sony`.`carts` (
  `cartid` INT(11) NOT NULL AUTO_INCREMENT COMMENT '일련번호',
  `count` INT(11) NOT NULL COMMENT '수량',
  `check` ENUM('Y', 'N') NOT NULL DEFAULT 'Y' COMMENT '체크박스 체크 유무',
  `memberid` INT(11) NOT NULL COMMENT '회원의 일련번호',
  `prodid` INT(11) NOT NULL COMMENT '상품의 일련번호',
  PRIMARY KEY (`cartid`),
  INDEX `fk_carts_members1_idx` (`memberid` ASC) VISIBLE,
  INDEX `fk_carts_products1_idx` (`prodid` ASC) VISIBLE,
  CONSTRAINT `fk_carts_members1`
    FOREIGN KEY (`memberid`)
    REFERENCES `sony`.`members` (`memberid`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_carts_products1`
    FOREIGN KEY (`prodid`)
    REFERENCES `sony`.`products` (`prodid`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '장바구니';

CREATE TABLE IF NOT EXISTS `sony`.`colors` (
  `colorid` INT(11) NOT NULL AUTO_INCREMENT COMMENT '색상 번호',
  `color` VARCHAR(45) NOT NULL COMMENT '색상',
  `prodid` INT(11) NOT NULL,
  INDEX `fk_colors_products1_idx` (`prodid` ASC) VISIBLE,
  PRIMARY KEY (`colorid`),
  CONSTRAINT `fk_colors_products1`
    FOREIGN KEY (`prodid`)
    REFERENCES `sony`.`products` (`prodid`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '색상 테이블';

CREATE TABLE IF NOT EXISTS `sony`.`deliveries` (
  `dlvid` INT(11) NOT NULL COMMENT '일련번호',
  `payid` INT(11) NOT NULL COMMENT '결제내역의 일련번호',
  `name` VARCHAR(45) NOT NULL COMMENT '수령인 이름',
  `phone` VARCHAR(45) NOT NULL COMMENT '수령인 휴대폰번호',
  `postcode` CHAR(5) NOT NULL COMMENT '우편번호',
  `addr1` VARCHAR(255) NOT NULL COMMENT '검색된 주소',
  `addr2` VARCHAR(255) NOT NULL COMMENT '상세 주소',
  `request` VARCHAR(255) NULL DEFAULT NULL COMMENT '배송 요청 사항',
  `date` DATE NULL DEFAULT NULL COMMENT '배송일',
  `members_memberid` INT(11) NOT NULL,
  PRIMARY KEY (`dlvid`, `members_memberid`),
  INDEX `fk_deliveries_members2_idx` (`members_memberid` ASC) VISIBLE,
  CONSTRAINT `fk_deliveries_members2`
    FOREIGN KEY (`members_memberid`)
    REFERENCES `sony`.`members` (`memberid`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '배송 정보 테이블';

CREATE TABLE IF NOT EXISTS `sony`.`images` (
  `imgid` INT(11) NOT NULL AUTO_INCREMENT COMMENT '일련번호',
  `filename` VARCHAR(255) NOT NULL COMMENT '이미지 파일이름',
  `prodid` INT(11) NOT NULL COMMENT '상품의 일련번호',
  `colorid` INT(11) NOT NULL COMMENT '색상의 일련번호',
  PRIMARY KEY (`imgid`),
  INDEX `fk_images_products1_idx` (`prodid` ASC) VISIBLE,
  INDEX `fk_images_colors1_idx` (`colorid` ASC) VISIBLE,
  CONSTRAINT `fk_images_products1`
    FOREIGN KEY (`prodid`)
    REFERENCES `sony`.`products` (`prodid`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_images_colors1`
    FOREIGN KEY (`colorid`)
    REFERENCES `sony`.`colors` (`colorid`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '상품 이미지';

CREATE TABLE IF NOT EXISTS `sony`.`members` (
  `memberid` INT(11) NOT NULL AUTO_INCREMENT COMMENT '회원의 일련번호',
  `email` VARCHAR(45) NOT NULL COMMENT '이메일',
  `userpw` VARCHAR(30) NOT NULL COMMENT '비밀번호',
  `username` VARCHAR(45) NOT NULL COMMENT '이름',
  `gender` ENUM('M', 'F') NOT NULL COMMENT '성별 (M/F)',
  `birthdate` DATE NOT NULL COMMENT '생년월일',
  `phone` VARCHAR(20) NOT NULL COMMENT '휴대폰번호',
  `editdate` DATETIME NOT NULL COMMENT '변경일시',
  `postcode` CHAR(5) NULL DEFAULT NULL COMMENT '우편번호',
  `addr1` VARCHAR(255) NULL DEFAULT NULL COMMENT '검색된 주소',
  `addr2` VARCHAR(255) NULL DEFAULT NULL COMMENT '상세 주소',
  `isout` ENUM('Y', 'N') NOT NULL DEFAULT 'N' COMMENT '탈퇴 여부 (Y/N)',
  `logindate` DATETIME NULL DEFAULT NULL COMMENT '마지막 로그인 일시',
  `regdate` DATETIME NOT NULL COMMENT '등록일시',
  `isadmin` ENUM('Y', 'N') NOT NULL DEFAULT 'N' COMMENT '관리자 여부 (Y/ N)',
  PRIMARY KEY (`memberid`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '회원정보';

CREATE TABLE IF NOT EXISTS `sony`.`notices` (
  `noticeid` INT(11) NOT NULL AUTO_INCREMENT COMMENT '번호',
  `title` VARCHAR(255) NOT NULL COMMENT '제목',
  `regdate` DATE NOT NULL COMMENT '등록일자',
  `watch` INT(11) NOT NULL DEFAULT 0 COMMENT '조회수',
  PRIMARY KEY (`noticeid`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '공지사항';

CREATE TABLE IF NOT EXISTS `sony`.`payments` (
  `payid` INT(11) NOT NULL AUTO_INCREMENT COMMENT '일련번호',
  `count` INT(11) NOT NULL COMMENT '수량',
  `total` INT(11) NOT NULL COMMENT '총 결제금액',
  `date` DATE NOT NULL COMMENT '결제날짜',
  `option` VARCHAR(20) NOT NULL COMMENT '결제방법',
  `status` VARCHAR(10) NOT NULL COMMENT '처리상태',
  `paycheck` ENUM('Y', 'N') NOT NULL DEFAULT 'N' COMMENT '결제유무',
  `insertdate` DATETIME NOT NULL,
  `receivername` VARCHAR(30) NULL DEFAULT NULL COMMENT '수령인 이름',
  `phone` VARCHAR(20) NULL DEFAULT NULL COMMENT '수령인 휴대폰번호',
  `postcode` CHAR(5) NULL DEFAULT NULL COMMENT '우편번호',
  `addr1` VARCHAR(45) NULL DEFAULT NULL COMMENT '검색된 주소',
  `addr2` VARCHAR(45) NULL DEFAULT NULL COMMENT '상세 주소',
  `request` VARCHAR(45) NULL DEFAULT NULL COMMENT '배송 요청 사항',
  `dlvdate` VARCHAR(45) NULL DEFAULT NULL COMMENT '배송일',
  `memberid` INT(11) NOT NULL COMMENT '회원의 일련번호',
  `prodid` INT(11) NOT NULL COMMENT '상품의 일련번호',
  PRIMARY KEY (`payid`),
  INDEX `fk_payments_members1_idx` (`memberid` ASC) VISIBLE,
  INDEX `fk_payments_products1_idx` (`prodid` ASC) VISIBLE,
  CONSTRAINT `fk_payments_members1`
    FOREIGN KEY (`memberid`)
    REFERENCES `sony`.`members` (`memberid`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_payments_products1`
    FOREIGN KEY (`prodid`)
    REFERENCES `sony`.`products` (`prodid`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '결제';

CREATE TABLE IF NOT EXISTS `sony`.`products` (
  `prodid` INT(11) NOT NULL AUTO_INCREMENT COMMENT '일련번호',
  `thumbnail` VARCHAR(40) NOT NULL COMMENT '상품 이미지명',
  `title` VARCHAR(45) NOT NULL COMMENT '상품명',
  `desc` VARCHAR(255) NULL DEFAULT NULL COMMENT '상품 설명',
  `price` INT(11) NOT NULL COMMENT '상품 가격',
  `type1` VARCHAR(45) NOT NULL COMMENT '상품 카테고리 1',
  `type2` VARCHAR(45) NULL DEFAULT NULL COMMENT '상품 카테고리 2',
  `type3` VARCHAR(45) NULL DEFAULT NULL COMMENT '상품 카테고리 3',
  `date` DATE NULL DEFAULT NULL COMMENT '출시일',
  PRIMARY KEY (`prodid`))
ENGINE = InnoDB
DEFAULT CHARACTER SET = utf8
COMMENT = '상품';


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;
